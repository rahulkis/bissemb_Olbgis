{"version":3,"sources":["modal.js"],"names":["$","EdumallModal","$el","options","this","ACTIVE_CLASS","initialized","defaults","perfectScrollbar","settings","extend","triggerMethod","method","setOptions","getOptions","update","setHeight","newHeight","find","height","init","plugin","on","e","preventDefault","stopPropagation","close","document","body","trigger","open","removeClass","addClass","window","edumall","Helpers","setBodyOverflow","fn","isHandheld","unsetBodyOverflow","namespace","args","length","data","get","each","let","instance","jQuery"],"mappings":"CACA,SAAAA,gBAGA,SAAAC,EAAAC,EAAAC,GACAC,KAAAF,IAAAA,EACAE,KAAAC,aAAA,OACAD,KAAAE,aAAA,EACAF,KAAAG,SAAA,CACAC,kBAAA,GAEAJ,KAAAK,SAAAT,EAAAU,OAAA,GAAAN,KAAAG,SAAAJ,GAGAC,KAAAO,cAAA,CAAAC,EAAAT,KACA,mBAAAC,KAAAQ,IACAR,KAAAQ,GAAAT,IAIAC,KAAAS,WAAA,SAAAV,GAGAC,KAAAK,SAAAT,EAAAU,OAAA,GAAAN,KAAAK,SAFAN,EAAAA,GAAA,KAKAC,KAAAU,WAAA,WACA,OAAAV,KAAAK,UAGAL,KAAAW,OAAA,SAAAZ,GACAC,KAAAS,WAAAV,IAGAC,KAAAY,UAAA,SAAAC,GACAb,KAAAF,IAAAgB,KAAA,uBAAAC,OAAAF,IAGAb,KAAAgB,KAAA,WACA,IAAAC,EAAAjB,MAEA,IAAAiB,EAAAf,cACAJ,EAAAoB,GAAA,QAAA,sCAAA,SAAAC,GACAA,EAAAC,iBACAD,EAAAE,kBAEAJ,EAAAK,UAGAL,EAAAf,aAAA,EACAN,EAAA2B,SAAAC,MAAAC,QAAA,mBAAA,CAAA3B,IAEAmB,EAAAS,SAIA1B,KAAA0B,KAAA,WACA,IAAAT,EAAAjB,KAEAJ,EAAA,kBAAA+B,YAAAV,EAAAhB,cAEAgB,EAAAD,OAEAlB,EAAA8B,SAAAX,EAAAhB,cAEA4B,OAAAC,QAAAC,QAAAC,kBAEAhC,KAAAK,SAAAD,kBAAAR,EAAAqC,GAAA7B,mBAAAyB,OAAAC,QAAAC,QAAAG,cACApC,EAAAgB,KAAA,uBAAAV,mBAGAR,EAAA2B,SAAAC,MAAAC,QAAA,mBAAA,CAAA3B,IACAA,EAAA2B,QAAA,qBAGAzB,KAAAsB,MAAA,WAGAxB,EAAA6B,YAFA3B,KAEAC,cAEA4B,OAAAC,QAAAC,QAAAI,oBAEAvC,EAAA2B,SAAAC,MAAAC,QAAA,oBAAA,CAAA3B,IACAA,EAAA2B,QAAA,sBAGAzB,KAAAgB,OAGA,MAAAoB,EAAA,eAEAxC,EAAAqC,GAAA3B,OAAA,CACAT,aAAA,SAAAwC,EAAA1B,GAEA,OAAAX,KAAAsC,OAKA,YAAAD,EACAzC,EAAA2C,KAAAvC,KAAAwC,IAAA,GAAAJ,GAAA1B,aAGAV,KAAAyC,KAAA,WACA,IAAA3C,EAAAF,EAAAI,MAEA0C,IAAAC,EAAA/C,EAAA2C,KAAAvC,KAAAoC,GAEAO,EACAA,EAAApC,cAAA8B,EAAA1B,IAEAgC,EAAA,IAAA9C,EAAAC,EAAAuC,GACAzC,EAAA2C,KAAAvC,KAAAoC,EAAAO,MAjBA3C,QA/FA,CAqHA4C","file":"../../modal.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar EdumallModal = function( $el, options ) {\n\t\t\tthis.$el = $el;\n\t\t\tthis.ACTIVE_CLASS = 'open';\n\t\t\tthis.initialized = false;\n\t\t\tthis.defaults = {\n\t\t\t\tperfectScrollbar: true\n\t\t\t};\n\t\t\tthis.settings = $.extend( {}, this.defaults, options );\n\n\t\t\t// jQuery methods.\n\t\t\tthis.triggerMethod = ( method, options ) => {\n\t\t\t\tif ( typeof this[ method ] === 'function' ) {\n\t\t\t\t\tthis[ method ]( options );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.setOptions = function( options ) {\n\t\t\t\toptions = options || {};\n\n\t\t\t\tthis.settings = $.extend( {}, this.settings, options );\n\t\t\t};\n\n\t\t\tthis.getOptions = function() {\n\t\t\t\treturn this.settings;\n\t\t\t};\n\n\t\t\tthis.update = function( options ) {\n\t\t\t\tthis.setOptions( options );\n\t\t\t};\n\n\t\t\tthis.setHeight = function( newHeight ) {\n\t\t\t\tthis.$el.find( '.modal-content-wrap' ).height( newHeight );\n\t\t\t};\n\n\t\t\tthis.init = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\tif ( false === plugin.initialized ) {\n\t\t\t\t\t$el.on( 'click', '.modal-overlay, .button-close-modal', function( e ) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\t\tplugin.close();\n\t\t\t\t\t} );\n\n\t\t\t\t\tplugin.initialized = true;\n\t\t\t\t\t$( document.body ).trigger( 'EdumallModalInit', [ $el ] );\n\n\t\t\t\t\tplugin.open();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.open = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\t$( '.edumall-modal' ).removeClass( plugin.ACTIVE_CLASS );\n\n\t\t\t\tplugin.init();\n\n\t\t\t\t$el.addClass( plugin.ACTIVE_CLASS );\n\n\t\t\t\twindow.edumall.Helpers.setBodyOverflow();\n\n\t\t\t\tif ( this.settings.perfectScrollbar && $.fn.perfectScrollbar && ! window.edumall.Helpers.isHandheld() ) {\n\t\t\t\t\t$el.find( '.modal-content-wrap' ).perfectScrollbar();\n\t\t\t\t}\n\n\t\t\t\t$( document.body ).trigger( 'EdumallModalOpen', [ $el ] );\n\t\t\t\t$el.trigger( 'EdumallModalOpen' );\n\t\t\t};\n\n\t\t\tthis.close = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\t$el.removeClass( plugin.ACTIVE_CLASS );\n\n\t\t\t\twindow.edumall.Helpers.unsetBodyOverflow();\n\n\t\t\t\t$( document.body ).trigger( 'EdumallModalClose', [ $el ] );\n\t\t\t\t$el.trigger( 'EdumallModalClose' );\n\t\t\t};\n\n\t\t\tthis.init();\n\t\t};\n\n\t\tconst namespace = 'edumallModal';\n\n\t\t$.fn.extend( {\n\t\t\tEdumallModal: function( args, update ) {\n\t\t\t\t// Check if selected element exist.\n\t\t\t\tif ( ! this.length ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t\t// We need to return options.\n\t\t\t\tif ( args === 'options' ) {\n\t\t\t\t\treturn $.data( this.get( 0 ), namespace ).getOptions();\n\t\t\t\t}\n\n\t\t\t\treturn this.each( function() {\n\t\t\t\t\tvar $el = $( this );\n\n\t\t\t\t\tlet instance = $.data( this, namespace );\n\n\t\t\t\t\tif ( instance ) { // Already created then trigger method.\n\t\t\t\t\t\tinstance.triggerMethod( args, update );\n\t\t\t\t\t} else { // Create new instance.\n\t\t\t\t\t\tinstance = new EdumallModal( $el, args );\n\t\t\t\t\t\t$.data( this, namespace, instance );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}( jQuery )\n);\n"]}