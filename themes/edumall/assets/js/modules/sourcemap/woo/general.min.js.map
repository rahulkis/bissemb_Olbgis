{"version":3,"sources":["general.js"],"names":["$","$body","openQuickViewPopup","$popup","$button","removeClass","magnificPopup","open","mainClass","items","src","html","type","callbacks","$contentWrap","this","content","find","windowHeight","window","innerHeight","popupHeight","parseInt","Math","min","$sliderWrap","outerHeight","perfectScrollbar","suppressScrollX","thumbsSlider","children","EdumallSwiper","mainSlider","thumbs","swiper","$form","isw","Swatches","init","wc_add_to_cart_variation_params","each","wc_variation_form","variations","data","on","isFieldSelected","needReset","globalAttrs","formValues","serializeArray","i","length","_name","name","substring","value","selectedAttributes","Object","entries","variationImageID","minMatch","currentVariation","currentAttributes","attributes","loopMatch","forEach","key","selectedKey","selectedValue","image_id","$wrapperEl","index","slideImageID","attr","slideTo","document","ready","edumallNotices","e","preventDefault","stopPropagation","productID","parents","first","addClass","ajax","url","$edumall","ajaxurl","param","action","pid","dataType","success","results","template","append","settings","addedText","noticeAddedCartText","messages","undefined","image","title","noticeCartUrl","noticeCartText","push","growl","location","duration","message","splice","wc_add_to_cart_params","evt","$thisButton","hasClass","$variation_form","closest","product_id","val","map","endsWith","trigger","post","ajax_url","response","error","product_url","cart_redirect_after_add","cart_url","body","fragments","cart_hash","always","jQuery"],"mappings":"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","file":"../../../woo/general.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar $body = $( 'body' );\n\n\t\t$( document ).ready( function() {\n\t\t\tinitQuickViewPopup();\n\t\t\taddToCartNotification();\n\t\t\tsingleProductAddToCart();\n\t\t} );\n\n\t\tfunction initQuickViewPopup() {\n\t\t\t$( '.edumall-product' ).on( 'click', '.quick-view-btn', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tvar $button = $( this );\n\n\t\t\t\tvar $actions = $button.parents( '.product-actions' ).first();\n\t\t\t\t$actions.addClass( 'refresh' );\n\n\t\t\t\t$button.addClass( 'loading' );\n\t\t\t\tvar productID = $button.data( 'pid' );\n\n\t\t\t\t/**\n\t\t\t\t * Avoid duplicate ajax request.\n\t\t\t\t */\n\t\t\t\tvar $popup = $body.children( '#' + 'popup-product-quick-view-content-' + productID );\n\t\t\t\tif ( $popup.length > 0 ) {\n\t\t\t\t\topenQuickViewPopup( $popup, $button );\n\t\t\t\t} else {\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\taction: 'product_quick_view',\n\t\t\t\t\t\tpid: productID\n\t\t\t\t\t};\n\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $edumall.ajaxurl,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: $.param( data ),\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\tsuccess: function( results ) {\n\t\t\t\t\t\t\t$popup = $( results.template );\n\t\t\t\t\t\t\t$body.append( $popup );\n\t\t\t\t\t\t\topenQuickViewPopup( $popup, $button );\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction openQuickViewPopup( $popup, $button ) {\n\t\t\t$button.removeClass( 'loading' );\n\n\t\t\t$.magnificPopup.open( {\n\t\t\t\tmainClass: 'mfp-fade popup-product-quick-view',\n\t\t\t\titems: {\n\t\t\t\t\tsrc: $popup.html(),\n\t\t\t\t\ttype: 'inline'\n\t\t\t\t},\n\t\t\t\tcallbacks: {\n\t\t\t\t\topen: function() {\n\t\t\t\t\t\tvar $contentWrap = this.content.find( '.product-container' );\n\t\t\t\t\t\tvar windowHeight = window.innerHeight;\n\n\t\t\t\t\t\t// Max height of popup = Window height - top bottom spacing.\n\t\t\t\t\t\tvar popupHeight = parseInt( (\n\t\t\t\t\t\t\twindowHeight - 60\n\t\t\t\t\t\t) );\n\n\t\t\t\t\t\t// If window height large then used fixed height.\n\t\t\t\t\t\t// Popup max height = 760.\n\t\t\t\t\t\tpopupHeight = Math.min( popupHeight, 760 );\n\n\t\t\t\t\t\t$contentWrap.outerHeight( popupHeight );\n\n\t\t\t\t\t\t$contentWrap.perfectScrollbar( {\n\t\t\t\t\t\t\tsuppressScrollX: true\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tvar $sliderWrap = this.content.find( '.woo-single-gallery' );\n\t\t\t\t\t\tvar thumbsSlider = $sliderWrap.children( '.edumall-thumbs-swiper' ).EdumallSwiper();\n\t\t\t\t\t\tvar mainSlider = $sliderWrap.children( '.edumall-main-swiper' ).EdumallSwiper( {\n\t\t\t\t\t\t\tthumbs: {\n\t\t\t\t\t\t\t\tswiper: thumbsSlider\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tif ( typeof isw != 'undefined' && typeof isw.Swatches !== 'undefined' ) {\n\t\t\t\t\t\t\tisw.Swatches.init();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Re init add to cart form variation.\n\t\t\t\t\t\tif ( typeof wc_add_to_cart_variation_params !== 'undefined' ) {\n\t\t\t\t\t\t\tthis.content.find( '.variations_form' ).each( function() {\n\t\t\t\t\t\t\t\t$( this ).wc_variation_form();\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar $form = this.content.find( '.variations_form' );\n\t\t\t\t\t\tvar variations = $form.data( 'product_variations' );\n\n\t\t\t\t\t\t$form.find( 'select' ).on( 'change', function() {\n\t\t\t\t\t\t\tvar isFieldSelected = true;\n\t\t\t\t\t\t\tvar needReset = false;\n\t\t\t\t\t\t\tvar globalAttrs = {};\n\n\t\t\t\t\t\t\tvar formValues = $form.serializeArray();\n\n\t\t\t\t\t\t\t// Check all attributes selected.\n\t\t\t\t\t\t\tfor ( var i = 0; i < formValues.length; i ++ ) {\n\n\t\t\t\t\t\t\t\tvar _name = formValues[ i ].name;\n\n\t\t\t\t\t\t\t\tif ( _name.substring( 0, 10 ) === 'attribute_' ) {\n\n\t\t\t\t\t\t\t\t\tglobalAttrs[ _name ] = formValues[ i ].value;\n\n\t\t\t\t\t\t\t\t\tif ( formValues[ i ].value === '' ) {\n\t\t\t\t\t\t\t\t\t\tisFieldSelected = false;\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( isFieldSelected === true ) {\n\t\t\t\t\t\t\t\t// Convert to array.\n\t\t\t\t\t\t\t\tvar selectedAttributes = Object.entries( globalAttrs );\n\n\t\t\t\t\t\t\t\tvar variationImageID = 0;\n\t\t\t\t\t\t\t\tvar minMatch = 0;\n\n\t\t\t\t\t\t\t\tfor ( var i = variations.length - 1; i >= 0; i -- ) {\n\t\t\t\t\t\t\t\t\tvar currentVariation = variations[ i ];\n\t\t\t\t\t\t\t\t\tvar currentAttributes = Object.entries( currentVariation.attributes ); // Convert to array.\n\t\t\t\t\t\t\t\t\tvar loopMatch = 0;\n\n\t\t\t\t\t\t\t\t\t// Compare selected variation with all variations to find best matches.\n\t\t\t\t\t\t\t\t\tcurrentAttributes.forEach( ( [ key, value ] ) => {\n\t\t\t\t\t\t\t\t\t\tselectedAttributes.forEach( ( [ selectedKey, selectedValue ] ) => {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( selectedKey === key ) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( selectedValue === value\n\t\t\t\t\t\t\t\t\t\t\t\t     || '' === value // Any Terms.\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tloopMatch ++;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\tif ( minMatch < loopMatch ) {\n\t\t\t\t\t\t\t\t\t\tminMatch = loopMatch;\n\t\t\t\t\t\t\t\t\t\tvariationImageID = currentVariation.image_id;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( variationImageID ) {\n\t\t\t\t\t\t\t\t\tmainSlider.$wrapperEl.find( '.swiper-slide' ).each( function( index ) {\n\t\t\t\t\t\t\t\t\t\tvar slideImageID = $( this ).attr( 'data-image-id' );\n\t\t\t\t\t\t\t\t\t\tslideImageID = parseInt( slideImageID );\n\n\t\t\t\t\t\t\t\t\t\tif ( slideImageID === variationImageID ) {\n\t\t\t\t\t\t\t\t\t\t\tmainSlider.slideTo( index );\n\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tneedReset = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tneedReset = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Reset to main image.\n\t\t\t\t\t\t\tif ( needReset ) {\n\t\t\t\t\t\t\t\tvar $mainImage = mainSlider.$wrapperEl.find( '.product-main-image' );\n\t\t\t\t\t\t\t\tvar index = $mainImage.index();\n\t\t\t\t\t\t\t\tmainSlider.slideTo( index );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction addToCartNotification() {\n\t\t\tvar edumallNotices = [];\n\n\t\t\t$body.on( 'click', '.ajax_add_to_cart:not(.disabled)', function() {\n\t\t\t\tvar $addedProduct = $( this ).parents( '.cart-notification' ).first();\n\t\t\t\tvar settings = $addedProduct.data( 'notification' );\n\n\t\t\t\tvar addedText = '<span class=\"added-text\">' + $edumall.noticeAddedCartText + '</span>';\n\t\t\t\tvar messages = addedText;\n\n\t\t\t\tif ( settings !== undefined ) {\n\t\t\t\t\tmessages = '<div class=\"product-added-cart\">';\n\t\t\t\t\tif ( '' !== settings.image ) {\n\t\t\t\t\t\tmessages += '<div class=\"product-thumbnail\"><img src=\"' + settings.image + '\" alt=\"' + settings.title + '\"/></div>'\n\t\t\t\t\t}\n\t\t\t\t\tmessages += '<div class=\"product-caption\"><h3 class=\"product-title\">' + settings.title + ' </h3>' + addedText + '</div>';\n\t\t\t\t\tmessages += '</div>'\n\t\t\t\t}\n\n\t\t\t\tmessages += '<div class=\"tm-button-wrapper btn-view-cart\"><a href=\"' + $edumall.noticeCartUrl + '\" class=\"tm-button button-grey style-flat tm-button-xs tm-button-full-wide\">' + $edumall.noticeCartText + '</a></div>';\n\n\t\t\t\tedumallNotices.push( messages );\n\t\t\t} );\n\n\t\t\t$body.on( 'added_to_cart', function() {\n\t\t\t\tfor ( var i = 0; i < edumallNotices.length; i ++ ) {\n\t\t\t\t\tvar messages = edumallNotices[ i ];\n\n\t\t\t\t\t$.growl( {\n\t\t\t\t\t\tlocation: 'br',\n\t\t\t\t\t\tduration: 5000,\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tmessage: messages,\n\t\t\t\t\t} );\n\n\t\t\t\t\tedumallNotices.splice( i, 1 );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction singleProductAddToCart() {\n\t\t\t// wc_add_to_cart_params is required to continue, ensure the object exists.\n\t\t\tif ( typeof wc_add_to_cart_params === 'undefined' ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Ajax add to cart.\n\t\t\t$( document ).on( 'click', '.single_add_to_cart_button', function( evt ) {\n\t\t\t\tvar $thisButton = $( this );\n\n\t\t\t\t// Do nothing if this is external product.\n\t\t\t\tif ( ! $thisButton.hasClass( 'external-add-to-cart-button' ) ) {\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tif ( $thisButton.hasClass( 'disabled' ) ) { // Variation select required.\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( $thisButton.hasClass( 'woosb-disabled' ) ) { // Smart Bundle select required.\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar $variation_form = $( this ).closest( 'form.cart' );\n\t\t\t\t\tvar var_id = $variation_form.find( 'input[name=variation_id]' ).val();\n\t\t\t\t\tvar product_id = $variation_form.find( 'input[name=product_id]' ).val();\n\t\t\t\t\tvar quantity = $variation_form.find( 'input[name=quantity]' ).val();\n\n\t\t\t\t\tif ( 'add-to-cart' === $thisButton.attr( 'name' ) ) {\n\t\t\t\t\t\tproduct_id = $thisButton.val();\n\t\t\t\t\t}\n\n\t\t\t\t\t$thisButton.removeClass( 'added' ).addClass( 'loading updating-icon' );\n\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\taction: 'edumall_woocommerce_add_to_cart',\n\t\t\t\t\t\t'product_id': product_id\n\t\t\t\t\t};\n\n\t\t\t\t\t$variation_form.serializeArray().map( function( attr ) {\n\t\t\t\t\t\tif ( attr.name !== 'add-to-cart' ) {\n\t\t\t\t\t\t\tif ( attr.name.endsWith( '[]' ) ) {\n\t\t\t\t\t\t\t\tlet name = attr.name.substring( 0, attr.name.length - 2 );\n\t\t\t\t\t\t\t\tif ( ! (\n\t\t\t\t\t\t\t\t\tname in data\n\t\t\t\t\t\t\t\t) ) {\n\t\t\t\t\t\t\t\t\tdata[ name ] = [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata[ name ].push( attr.value );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdata[ attr.name ] = attr.value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Trigger event.\n\t\t\t\t\t$( 'body' ).trigger( 'adding_to_cart', [ $thisButton, data ] );\n\n\t\t\t\t\t// Ajax action.\n\t\t\t\t\t$.post( wc_add_to_cart_params.ajax_url, data, function( response ) {\n\n\t\t\t\t\t\tif ( ! response ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( response.error && response.product_url ) {\n\t\t\t\t\t\t\twindow.location = response.product_url;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Redirect to cart option\n\t\t\t\t\t\tif ( wc_add_to_cart_params.cart_redirect_after_add === 'yes' ) {\n\t\t\t\t\t\t\twindow.location = wc_add_to_cart_params.cart_url;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Trigger event so themes can refresh other areas.\n\t\t\t\t\t\t$( document.body ).trigger( 'added_to_cart', [\n\t\t\t\t\t\t\tresponse.fragments,\n\t\t\t\t\t\t\tresponse.cart_hash,\n\t\t\t\t\t\t\t$thisButton\n\t\t\t\t\t\t] );\n\n\t\t\t\t\t} ).always( function() {\n\t\t\t\t\t\t$thisButton.addClass( 'added' ).removeClass( 'loading updating-icon' );\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}( jQuery )\n);\n"]}