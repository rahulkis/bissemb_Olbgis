{"version":3,"sources":["general.js"],"names":["$","$body","handleDashboardMenuBar","window","innerWidth","addClass","removeClass","navContentHeight","innerHeight","outerHeight","height","perfectScrollbar","suppressScrollX","document","ready","body","on","evt","preventDefault","$form","this","$button","find","ajax","url","$edumall","ajaxurl","type","data","serialize","dataType","beforeSend","text","hide","success","response","message","show","location","reload","complete","questionID","$replyModal","length","val","e","hasClass","courseId","attr","course_id","action","children","$buttonWrapper","parent","status","$edumallCourseWishlist","addedText","addText","redirect_to","$that","rating","closest","review","trim","_tutorobject","review_id","html","toggleClass","target","id","jQuery"],"mappings":"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","file":"../../../tutor/general.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar $body = $( 'body' );\n\n\t\t$( document ).ready( function() {\n\t\t\t$( document.body ).on( 'submit', '#tutor-ask-question-form, #tutor-reply-question-form', function( evt ) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tvar $form = $( this );\n\t\t\t\tvar $button = $form.find( 'button[type=\"submit\"]' );\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: $edumall.ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: $form.serialize(),\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t$button.addClass( 'updating-icon' );\n\t\t\t\t\t\t$form.find( '.form-response-messages' ).text( '' ).removeClass( 'success error' ).hide();\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\tif ( response.success ) {\n\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).addClass( 'success' ).text( response.data.message ).show();\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).addClass( 'error' ).text( response.data.message ).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t$button.removeClass( 'updating-icon' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t$( document.body ).on( 'click', '.btn-add-an-answer', function( evt ) {\n\t\t\t\tvar questionID = $( this ).data( 'question-id' );\n\t\t\t\tvar $replyModal = $( $( this ).data( 'edumall-target' ) );\n\n\t\t\t\tif ( $replyModal.length > 0 ) {\n\t\t\t\t\t$replyModal.find( 'input[name=\"question_id\"]' ).val( questionID );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * Edition version of wishlist function.\n\t\t\t */\n\t\t\t$( document ).on( 'click', '.edumall-course-wishlist-btn', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif ( $( 'body' ).hasClass( 'logged-in' ) ) {\n\t\t\t\t\tvar $button = $( this );\n\t\t\t\t\tvar courseId = $button.attr( 'data-course-id' );\n\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $edumall.ajaxurl,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tcourse_id: courseId,\n\t\t\t\t\t\t\t'action': 'tutor_course_add_to_wishlist'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$button.children( '.button-content-wrapper' ).addClass( 'updating-icon' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\t\tif ( data.success ) {\n\t\t\t\t\t\t\t\tvar $buttonWrapper = $button.parent( '.tm-button-wrapper' );\n\n\t\t\t\t\t\t\t\tif ( data.data.status === 'added' ) {\n\t\t\t\t\t\t\t\t\t$buttonWrapper.attr( 'aria-label', $edumallCourseWishlist.addedText );\n\t\t\t\t\t\t\t\t\t$buttonWrapper.addClass( 'added' );\n\n\t\t\t\t\t\t\t\t\t$button.addClass( 'has-wish-listed' );\n\t\t\t\t\t\t\t\t\t$button.find( '.button-text' ).text( $edumallCourseWishlist.addedText );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$buttonWrapper.attr( 'aria-label', $edumallCourseWishlist.addText );\n\t\t\t\t\t\t\t\t\t$buttonWrapper.removeClass( 'added' );\n\n\t\t\t\t\t\t\t\t\t$button.removeClass( 'has-wish-listed' );\n\t\t\t\t\t\t\t\t\t$button.find( '.button-text' ).text( $edumallCourseWishlist.addText );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.location = data.data.redirect_to;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$button.children( '.button-content-wrapper' ).removeClass( 'updating-icon' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * Edition version of edit review form in single.\n\t\t\t */\n\t\t\t$( document ).on( 'click', '.custom_tutor_submit_review_btn', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar $that = $( this );\n\t\t\t\tvar rating = $that.closest( 'form' ).find( 'input[name=\"tutor_rating_gen_input\"]' ).val();\n\t\t\t\tvar review = $that.closest( 'form' ).find( 'textarea[name=\"review\"]' ).val();\n\t\t\t\treview = review.trim();\n\n\t\t\t\tvar course_id = $( 'input[name=\"tutor_course_id\"]' ).val();\n\t\t\t\tvar data = {\n\t\t\t\t\tcourse_id: course_id,\n\t\t\t\t\trating: rating,\n\t\t\t\t\treview: review,\n\t\t\t\t\taction: 'edumall_place_rating'\n\t\t\t\t};\n\n\t\t\t\tif ( review ) {\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: _tutorobject.ajaxurl,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$that.addClass( 'updating-icon' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\t\tvar review_id = data.data.review_id;\n\t\t\t\t\t\t\tvar review = data.data.review;\n\t\t\t\t\t\t\t$( '.tutor-review-' + review_id + ' .review-content' ).html( review );\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( '.btn-toggle-lesson-sidebar' ).on( 'click', function( evt ) {\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\t$body.toggleClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'click', '.tutor-single-lesson-a', function() {\n\t\t\t\t$body.removeClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'click', function( evt ) {\n\t\t\t\tif ( evt.target.id === 'tutor-lesson-sidebar' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '#tutor-lesson-sidebar' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '.btn-toggle-lesson-sidebar' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( window.innerWidth >= 992 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$body.removeClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( '.dashboard-header-toggle-menu' ).on( 'click', function() {\n\t\t\t\t$body.toggleClass( 'dashboard-nav-opened' );\n\t\t\t} );\n\n\t\t\t$( '#tutor-dashboard-left-menu' ).on( 'click', function( evt ) {\n\t\t\t\tif ( evt.target.id === 'dashboard-nav-wrapper' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '#dashboard-nav-wrapper' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$body.removeClass( 'dashboard-nav-opened' );\n\t\t\t} );\n\n\t\t\thandleDashboardMenuBar();\n\n\t\t\t$( window ).on( 'resize', function() {\n\t\t\t\thandleDashboardMenuBar();\n\t\t\t} );\n\t\t} );\n\n\t\tfunction handleDashboardMenuBar() {\n\t\t\tvar wWidth = window.innerWidth;\n\n\t\t\tif ( wWidth >= 1200 ) {\n\t\t\t\t$body.addClass( 'dashboard-nav-fixed' );\n\t\t\t\t// Fix when resize from mobile to desktop.\n\t\t\t\t$body.removeClass( 'dashboard-nav-opened' );\n\t\t\t} else {\n\t\t\t\t$body.removeClass( 'dashboard-nav-fixed' );\n\t\t\t}\n\n\t\t\tvar wHeight = window.innerHeight;\n\t\t\tvar navHeaderHeight = $( '.dashboard-nav-header' ).outerHeight();\n\t\t\tvar bottomSpacing = 50;\n\t\t\tvar navContentHeight = wHeight - navHeaderHeight - bottomSpacing;\n\n\t\t\t$( '.dashboard-nav-content-inner' ).height( navContentHeight ).perfectScrollbar( { suppressScrollX: true } );\n\t\t}\n\t}( jQuery )\n);\n"]}