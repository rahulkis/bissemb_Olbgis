!function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=26)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.editor}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t,a){var n=a(20),l=a(21),r=a(13),i=a(22);e.exports=function(e,t){return n(e)||l(e,t)||r(e,t)||i()}},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){function a(e,t,a,n,l,r,i){try{var c=e[r](i),o=c.value}catch(e){return void a(e)}c.done?t(o):Promise.resolve(o).then(n,l)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(l,r){var i=e.apply(t,n);function c(e){a(i,l,r,c,o,"next",e)}function o(e){a(i,l,r,c,o,"throw",e)}c(void 0)}))}}},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t,a){"use strict";var n=function e(t){return t.endsWith("/")||t.endsWith("\\")?e(t.slice(0,-1)):t},l=function(e){return n(e)+"/"};e.exports=l,e.exports.trailingSlashIt=l,e.exports.unTrailingSlashIt=n},function(e,t){!function(){e.exports=this.wp.primitives}()},function(e,t,a){var n=a(14);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t,a){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var i=l.apply(null,n);i&&e.push(i)}else if("object"===r)for(var c in n)a.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()},function(e,t,a){var n=a(23),l=a(24),r=a(13),i=a(25);e.exports=function(e){return n(e)||l(e)||r(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,l=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){l=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(l)throw r}}return a}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,a){var n=a(14);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"name",(function(){return y})),a.d(n,"settings",(function(){return C}));var l={};a.r(l),a.d(l,"name",(function(){return N})),a.d(l,"settings",(function(){return S}));var r={};a.r(r),a.d(r,"name",(function(){return I})),a.d(r,"settings",(function(){return R}));var i={};a.r(i),a.d(i,"name",(function(){return L})),a.d(i,"settings",(function(){return U}));var c={};a.r(c),a.d(c,"name",(function(){return M})),a.d(c,"settings",(function(){return q}));var o={};a.r(o),a.d(o,"name",(function(){return H})),a.d(o,"settings",(function(){return W}));var f={};a.r(f),a.d(f,"name",(function(){return $})),a.d(f,"settings",(function(){return J}));var s={};a.r(s),a.d(s,"name",(function(){return me})),a.d(s,"settings",(function(){return we}));var u={};a.r(u),a.d(u,"name",(function(){return de})),a.d(u,"settings",(function(){return ve}));var b={};a.r(b),a.d(b,"name",(function(){return he})),a.d(b,"settings",(function(){return Ee}));var p=a(15),m=a(0),w=a(2),j=function(e){var t=e.color?"#E34F43":"";return Object(m.createElement)(w.Icon,{icon:Object(m.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},Object(m.createElement)("path",{d:"M19.3657 14.051C19.1474 14.051 18.9334 14.0722 18.7215 14.1019L15.668 8.60516C16.3419 7.79993 16.7487 6.76373 16.7487 5.63429C16.7508 3.07876 14.6721 1 12.1165 1C9.56101 1 7.48013 3.07876 7.48013 5.63429C7.48013 6.74254 7.87215 7.75967 8.52269 8.55642L5.33993 14.1104C5.10895 14.0743 4.87586 14.051 4.63429 14.051C2.07876 14.051 0 16.1298 0 18.6853C0 21.2409 2.07876 23.3196 4.63429 23.3196C7.18983 23.3196 9.26859 21.2409 9.26859 18.6853C9.26859 17.5771 8.87657 16.5599 8.22603 15.7632L11.4088 10.2114C11.6398 10.2474 11.8729 10.2707 12.1144 10.2707C12.3327 10.2707 12.5467 10.2495 12.7586 10.2198L15.8121 15.7145C15.1383 16.5197 14.7314 17.5559 14.7314 18.6853C14.7314 21.2409 16.8102 23.3196 19.3657 23.3196C21.9212 23.3196 24 21.2409 24 18.6853C24 16.1298 21.9212 14.051 19.3657 14.051ZM12.1165 4.04715C12.9917 4.04715 13.7037 4.75914 13.7037 5.63429C13.7037 6.50945 12.9917 7.22144 12.1165 7.22144C11.2414 7.22144 10.5294 6.50945 10.5294 5.63429C10.5294 4.75914 11.2414 4.04715 12.1165 4.04715ZM4.63429 20.2725C3.75914 20.2725 3.04715 19.5605 3.04715 18.6853C3.04715 17.8102 3.75914 17.0982 4.63429 17.0982C5.50945 17.0982 6.22144 17.8102 6.22144 18.6853C6.22144 19.5605 5.50945 20.2725 4.63429 20.2725ZM19.3657 20.2725C18.4906 20.2725 17.7786 19.5605 17.7786 18.6853C17.7786 17.8102 18.4906 17.0982 19.3657 17.0982C20.2409 17.0982 20.9529 17.8102 20.9529 18.6853C20.9529 19.5605 20.2409 20.2725 19.3657 20.2725Z",fill:t}))})},O=wp.i18n.__,_=function(){return Object(m.createElement)("div",{id:"affwp-login-form",className:"affwp-form"},Object(m.createElement)("h3",null,O("Log into your account","affiliatewp-blocks")),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-login-user-login"},O("Username","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-login-user-login",className:"required",type:"text",name:"affwp_user_login",title:O("Username","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-login-user-pass"},O("Password","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-login-user-pass",className:"password required",type:"password",name:"affwp_user_pass"})),Object(m.createElement)("p",null,Object(m.createElement)("label",{className:"affwp-user-remember",htmlFor:"affwp-user-remember"},Object(m.createElement)("input",{id:"affwp-user-remember",className:"required",type:"checkbox",name:"affwp_user_remember"}),O("Remember Me","affiliatewp-blocks"))),Object(m.createElement)("p",null,Object(m.createElement)("input",{className:"button",type:"submit",value:O("Log In","affiliatewp-blocks")})),Object(m.createElement)("p",{className:"affwp-lost-password"},Object(m.createElement)("a",null,O("Lost your password?","affiliatewp-blocks"))))},d=wp.i18n.__,v=function(){var e=affwp_blocks.terms_of_use,t=affwp_blocks.required_registration_fields,a=affwp_blocks.terms_of_use_label;return Object(m.createElement)("div",{id:"affwp-register-form",className:"affwp-form"},Object(m.createElement)("h3",null,d("Register a new affiliate account","affiliatewp-blocks")),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-user-name"},d("Your Name","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-user-name",className:"required",type:"text",name:"affwp_user_name",title:d("Your Name","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-user-login"},d("Username","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-user-login",className:"required",type:"text",name:"affwp_user_login",title:d("Username","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-user-email"},d("Account Email","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-user-email",className:"required",type:"email",name:"affwp_user_email",title:d("Email Address","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-payment-email"},d("Payment Email","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-payment-email",className:"",type:"email",name:"affwp_payment_email",title:d("Payment Email Address","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-user-url"},d("Website URL","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-user-url",className:"required",type:"text",name:"affwp_user_url",title:d("Website URL","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-promotion-method"},d("How will you promote us?","affiliatewp-blocks")),Object(m.createElement)("textarea",{id:"affwp-promotion-method",className:"required",rows:"5",cols:"30",name:"affwp_promotion_method"})),t.password&&Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-user-pass"},d("Password","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-user-pass",className:"password",type:"password",name:"affwp_user_pass"})),t.password&&Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-user-pass2"},d("Confirm Password","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-user-pass2",className:"password",type:"password",name:"affwp_user_pass2"})),e&&Object(m.createElement)("p",null,Object(m.createElement)("label",{className:"affwp-tos",htmlFor:"affwp-tos"},Object(m.createElement)("input",{id:"affwp-tos",className:"",type:"checkbox",name:"affwp_tos"}),a)),Object(m.createElement)("p",null,Object(m.createElement)("input",{className:"button",type:"submit",value:d("Register","affiliatewp-blocks")})))},k=a(1),h=a(12),E=Object(m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(m.createElement)(h.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));var g=function(e){var t=e.attributes,a=affwp_blocks.affiliate_area_forms||"both",n=affwp_blocks.allow_affiliate_registration;return Object(m.createElement)(m.Fragment,null,(n&&"both"===a||"registration"===a)&&Object(m.createElement)(v,{attributes:t}),("both"===a||"login"===a)&&Object(m.createElement)(_,{attributes:t}),"none"===a&&Object(m.createElement)(w.Placeholder,{icon:E,label:Object(k.__)('The "Affiliate Area Forms" setting is configured to show no forms.',"affiliatewp-blocks")}))},y="affiliatewp/affiliate-area",C={title:Object(k.__)("Affiliate Area","affiliatewp-blocks"),description:Object(k.__)("Displays the Affiliate Registration and Login forms.","affiliatewp-blocks"),keywords:[Object(k.__)("Affiliate Area","affiliatewp-blocks"),Object(k.__)("Area","affiliatewp-blocks"),Object(k.__)("Dashboard","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:g,save:function(){return null}},x=a(3);var A=function(e){var t=e.attributes,a=e.setAttributes,n=t.redirect,l=affwp_blocks.allow_affiliate_registration;return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(x.InspectorControls,null,!l&&Object(m.createElement)(w.Notice,{className:"affwp-block-inspector-notice",isDismissible:!1,status:"warning"},Object(k.__)('Affiliates will not see this form as "Allow Affiliate Registration" is disabled.',"affiliatewp-blocks")),Object(m.createElement)(w.PanelBody,null,Object(m.createElement)(w.TextControl,{label:Object(k.__)("Redirect"),value:n,onChange:function(e){return a({redirect:e})}}))),Object(m.createElement)(v,null))},N="affiliatewp/registration",S={title:Object(k.__)("Affiliate Registration","affiliatewp-blocks"),description:Object(k.__)("Allow your affiliates to register.","affiliatewp-blocks"),keywords:[Object(k.__)("Registration","affiliatewp-blocks"),Object(k.__)("Form","affiliatewp-blocks"),Object(k.__)("Register","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:A,save:function(){return null}};var F=function(e){var t=e.attributes,a=e.setAttributes,n=t.redirect;return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(x.InspectorControls,null,Object(m.createElement)(w.PanelBody,null,Object(m.createElement)(w.TextControl,{label:Object(k.__)("Redirect"),value:n,onChange:function(e){return a({redirect:e})}}))),Object(m.createElement)(_,null))},I="affiliatewp/login",R={title:Object(k.__)("Affiliate Login","affiliatewp-blocks"),description:Object(k.__)("Allow your affiliates to login.","affiliatewp-blocks"),keywords:[Object(k.__)("Login","affiliatewp-blocks"),Object(k.__)("Form","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:F,save:function(){return null}},P=a(4),T=a(8);var B=Object(T.createHigherOrderComponent)((function(e){return function(t){if(t.isSelected){var a=wp.data.select("core/block-editor").getBlockHierarchyRootClientId(t.clientId);if(a&&"affiliatewp/affiliate-content"!==t.name)if("affiliatewp/affiliate-content"===wp.data.select("core/block-editor").getBlock(a).name)return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(e,t),Object(m.createElement)(w.Notice,{isDismissible:!1},Object(m.createElement)(w.Icon,{icon:j,color:!0}),Object(k.__)("This block will only be shown to affiliates","affiliatewp-blocks")))}return Object(m.createElement)(e,t)}}),"withNotice");wp.hooks.addFilter("editor.BlockListBlock","affiliatewp-blocks/with-notice",B);var L="affiliatewp/affiliate-content",U={title:Object(k.__)("Affiliate Content","affiliatewp-blocks"),description:Object(k.__)("Restrict content to logged-in affiliates.","affiliatewp-blocks"),keywords:[Object(k.__)("Content","affiliatewp-blocks"),Object(k.__)("Restrict","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:function(e){var t=e.className;return Object(m.createElement)("div",{className:t},Object(m.createElement)(P.InnerBlocks,null))},save:function(e){var t=e.className;return Object(m.createElement)("div",{className:t},Object(m.createElement)(P.InnerBlocks.Content,null))}};var D=Object(T.createHigherOrderComponent)((function(e){return function(t){if(t.isSelected){var a=wp.data.select("core/block-editor").getBlockHierarchyRootClientId(t.clientId);if(a&&"affiliatewp/non-affiliate-content"!==t.name)if("affiliatewp/non-affiliate-content"===wp.data.select("core/block-editor").getBlock(a).name)return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(e,t),Object(m.createElement)(w.Notice,{isDismissible:!1},Object(m.createElement)(w.Icon,{icon:j,color:!0}),Object(k.__)("This block will only be shown to non affiliates","affiliatewp-blocks")))}return Object(m.createElement)(e,t)}}),"withNotice");wp.hooks.addFilter("editor.BlockListBlock","affiliatewp-blocks/with-notice",D);var M="affiliatewp/non-affiliate-content",q={title:Object(k.__)("Non Affiliate Content","affiliatewp-blocks"),description:Object(k.__)("Show content to non affiliates.","affiliatewp-blocks"),keywords:[Object(k.__)("Content","affiliatewp-blocks"),Object(k.__)("Restrict","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:function(e){var t=e.className;return Object(m.createElement)("div",{className:t},Object(m.createElement)(P.InnerBlocks,null))},save:function(e){var t=e.className;return Object(m.createElement)("div",{className:t},Object(m.createElement)(P.InnerBlocks.Content,null))}};var z=function(e){var t=e.attributes,a=e.setAttributes,n=t.redirect;return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(x.InspectorControls,null,Object(m.createElement)(w.PanelBody,null,Object(m.createElement)(w.TextControl,{label:Object(k.__)("Redirect"),value:n,onChange:function(e){return a({redirect:e})}}))),Object(m.createElement)("div",{id:"affwp-login-form",className:"affwp-form"},Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-opt-in-name"},Object(k.__)("First Name","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-opt-in-name",className:"required",type:"text",name:"affwp_first_name",title:Object(k.__)("First Name","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-opt-in-name"},Object(k.__)("Last Name","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-opt-in-name",className:"required",type:"text",name:"affwp_last_name",title:Object(k.__)("Last Name","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("label",{htmlFor:"affwp-opt-in-email"},Object(k.__)("Email Address","affiliatewp-blocks")),Object(m.createElement)("input",{id:"affwp-opt-in-email",className:"required",type:"text",name:"affwp_email",title:Object(k.__)("Email Address","affiliatewp-blocks")})),Object(m.createElement)("p",null,Object(m.createElement)("input",{className:"button",type:"submit",value:Object(k.__)("Subscribe","affiliatewp-blocks")}))))},H="affiliatewp/opt-in",W={title:Object(k.__)("Opt-in Form","affiliatewp-blocks"),description:Object(k.__)("Show an opt-in form that integrates with Mailchimp, ActiveCampaign, or ConvertKit.","affiliatewp-blocks"),keywords:[Object(k.__)("Opt-in","affiliatewp-blocks"),Object(k.__)("Form","affiliatewp-blocks"),Object(k.__)("Sign Up","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:z,save:function(){return null}},Z=a(16),Q=a.n(Z),Y=a(6),V=a(11);var G=function(e){var t=e.url,a=e.format,n=e.pretty,l=affwp_blocks.referral_format,r=affwp_blocks.pretty_referral_urls,i=affwp_blocks.affiliate_id||Object(k.__)("123","affiliatewp-blocks"),c=affwp_blocks.affiliate_username||Object(k.__)("demoaffiliate","affiliatewp-blocks"),o=affwp_blocks.referral_variable,f=t?Object(V.trailingSlashIt)(t):wp.data.select("core/editor").getPermalink(),s="";if("default"===a)switch(l){case"username":s=c;break;case"id":default:s=i}else"id"===a?s=i:"username"===a&&(s=c);var u=Object(Y.addQueryArgs)(f,Q()({},o,s)),b=!1;return"default"===n&&r&&(b=!0),"yes"===n&&(b=!0),b&&(u="".concat(f).concat(Object(V.trailingSlashIt)(o)).concat(Object(V.trailingSlashIt)(s))),u};var K=function(e){var t=e.attributes,a=e.setAttributes,n=e.className,l=t.url,r=t.format,i=t.pretty,c=G({url:l,format:r,pretty:i});return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(x.InspectorControls,null,Object(m.createElement)(w.PanelBody,null,Object(m.createElement)(w.RadioControl,{label:Object(k.__)("Pretty Affiliate URLs","affiliatewp-blocks"),selected:i,options:[{label:Object(k.__)("Site Default","affiliatewp-blocks"),value:"default"},{label:Object(k.__)("Yes","affiliatewp-blocks"),value:"yes"},{label:Object(k.__)("No","affiliatewp-blocks"),value:"no"}],onChange:function(e){a({pretty:e})}}),Object(m.createElement)(w.RadioControl,{label:Object(k.__)("Referral Format","affiliatewp-blocks"),selected:r,options:[{label:Object(k.__)("Site Default","affiliatewp-blocks"),value:"default"},{label:Object(k.__)("ID","affiliatewp-blocks"),value:"id"},{label:Object(k.__)("Username","affiliatewp-blocks"),value:"username"}],onChange:function(e){a({format:e})}}),Object(m.createElement)(P.URLInput,{label:Object(k.__)("Custom URL","affiliatewp-blocks"),className:"components-text-control__input is-full-width",value:l,onChange:function(e,t){return a({url:e})},disableSuggestions:!0,placeholder:""}))),Object(m.createElement)("p",{className:n},c))},$="affiliatewp/affiliate-referral-url",J={title:Object(k.__)("Affiliate Referral URL","affiliatewp-blocks"),description:Object(k.__)("Display the referral URL of the currently logged in affiliate.","affiliatewp-blocks"),keywords:[Object(k.__)("URL","affiliatewp-blocks"),Object(k.__)("Referral","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:K,save:function(){return null}},X=a(7),ee=a.n(X),te=a(9),ae=a.n(te),ne=a(5),le=a.n(ne),re=a(17),ie=a.n(re),ce=a(18),oe=a.n(ce);function fe(){var e=ie()(['<a href="','" title="','">',"</a>"]);return fe=function(){return e},e}var se=function(e){var t=e.id,a=(e.name,e.description),n=e.image,l=e.url,r=e.text,i=e.preview,c=G({url:l,format:affwp_blocks.referral_format,pretty:affwp_blocks.pretty_referral_urls}),o=String.raw(fe(),c,r,r),f=oe()("affwp-creative","creative-"+t);return Object(m.createElement)(m.Fragment,null,Object(m.createElement)("div",{className:f},a&&Object(m.createElement)("p",{className:"affwp-creative-desc"},a),i&&Object(m.createElement)(w.Disabled,null,Object(m.createElement)("p",null,Object(m.createElement)("a",{href:c,title:r},Object(m.createElement)((function(){return n?Object(m.createElement)("img",{alt:r,src:n}):Object(m.createElement)(m.Fragment,null,r)}),null)))),Object(m.createElement)("p",null,Object(k.__)("Copy and paste the following:","affiliatewp-blocks")),Object(m.createElement)("pre",null,Object(m.createElement)("code",null,o))))},ue=a(10),be=a.n(ue);var pe=function(e){var t=e.attributes,a=e.setAttributes,n=Object(m.useState)([]),l=le()(n,2),r=l[0],i=l[1],c=Object(m.useState)(),o=le()(c,2),f=o[0],s=o[1],u=t.preview,b=t.number,p={number:b,status:"active"};Object(m.useEffect)((function(){var e=!1;function t(){return(t=ae()(ee.a.mark((function t(){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be()({path:Object(Y.addQueryArgs)("/affwp/v1/creatives/",p)});case 3:a=t.sent,e||i(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}}),[b]);var O=Array.isArray(r)&&r.length,_=Object(m.createElement)(x.InspectorControls,null,Object(m.createElement)(w.PanelBody,null,Object(m.createElement)(w.ToggleControl,{label:Object(k.__)("Creative preview","affiliatewp-blocks"),checked:!!u,onChange:function(e){return a({preview:e})},help:Object(k.__)("Displays an image or text preview above the HTML code.","affiliatewp-blocks")}),Object(m.createElement)(w.TextControl,{label:Object(k.__)("Number","affiliatewp-blocks"),type:"number",value:b,onChange:function(e){return a({number:e})},help:Object(k.__)("The number of affiliate creatives to show.","affiliatewp-blocks")})));if(!O){return Object(m.createElement)(m.Fragment,null,_,Object(m.createElement)(w.Placeholder,{icon:function(){return Object(m.createElement)(w.Icon,{icon:j,color:!0})},label:Object(k.__)("Affiliate Creatives","affiliatewp-blocks")},Array.isArray(r)?Object(m.createElement)((function(){if(f){var e=f.message;return Object(m.createElement)(m.Fragment,null,e)}return!1}),null):Object(m.createElement)(w.Spinner,null)))}return Object(m.createElement)(m.Fragment,null,_,r.map((function(e){return Object(m.createElement)(se,{key:e.creative_id,id:e.creative_id,name:e.name,description:e.description,image:e.image,url:e.url,text:e.text,preview:u})})))},me="affiliatewp/affiliate-creatives",we={title:Object(k.__)("Affiliate Creatives","affiliatewp-blocks"),description:Object(k.__)("Show creatives to your affiliates.","affiliatewp-blocks"),keywords:[Object(k.__)("Creative","affiliatewp-blocks"),Object(k.__)("Banner","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:pe,save:function(){return null}},je=a(19),Oe=a.n(je);var _e=function(e){var t=e.attributes,a=e.setAttributes,n=t.id,l=Object(m.useState)(null),r=le()(l,2),i=r[0],c=r[1],o=Object(m.useState)(null),f=le()(o,2),s=f[0],u=f[1],b=Object(m.useState)(!1),p=le()(b,2),O=p[0],_=p[1],d=Object(m.useState)(),v=le()(d,2),h=(v[0],v[1]),E={number:100};Object(m.useEffect)((function(){var e=!1;if(!i)return function(){t.apply(this,arguments)}(),function(){e=!0};function t(){return(t=ae()(ee.a.mark((function t(){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.prev=1,t.next=4,be()({path:Object(Y.addQueryArgs)("/affwp/v1/creatives/",E)});case 4:a=t.sent,e||(c(a),n&&u(a.find((function(e){return e.creative_id===n})))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),h(t.t0);case 11:_(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}}),[]),Object(m.useEffect)((function(){s&&a({id:parseInt(s.creative_id)})}),[s]);var g=function(){return Object(m.createElement)(w.Icon,{icon:j,color:!0})},y=function(e){return i.find((function(t){return t.creative_id===e}))},C=function(){return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(w.SelectControl,{label:Object(k.__)("Select the affiliate creative to display","affiliatewp-blocks"),value:n&&void 0!==n&&y(n)?n:"",options:function(){var e={label:Object(k.__)("- Select -","affiliatewp-blocks"),value:"",disabled:!0},t=i.map((function(e){return{label:"(id: ".concat(e.id,") ").concat(e.name),value:e.id}}));return[e].concat(Oe()(t))}(),onChange:function(e){return u(i.find((function(t){return t.creative_id===parseInt(e)})))}}))},A=function(){return Object(m.createElement)(x.InspectorControls,null,s&&n&&!function(e){return"active"===e.status}(s)&&Object(m.createElement)(w.Notice,{className:"affwp-block-inspector-notice",isDismissible:!1,status:"warning"},Object(k.__)("This creative is inactive.","affiliatewp-blocks")),n&&!y(n)&&Object(m.createElement)(w.Notice,{className:"affwp-block-inspector-notice",isDismissible:!1,status:"error"},Object(k.sprintf)(Object(k.__)("This creative (id: %d) no longer exists.","affiliatewp-blocks"),n)),Object(m.createElement)(w.PanelBody,null,Object(m.createElement)(C,null)))};return O?Object(m.createElement)(w.Spinner,null):null!==i||null!==s||n?null===s&&null!==i&&!n||null!==i&&n&&!y(n)?Object(m.createElement)(m.Fragment,null,Object(m.createElement)(A,null),Object(m.createElement)(w.Placeholder,{icon:g,label:Object(k.__)("Affiliate Creative","affiliatewp-blocks")},Object(m.createElement)(C,null))):s&&n?Object(m.createElement)(m.Fragment,null,Object(m.createElement)(A,null),Object(m.createElement)(se,{id:s.creative_id,name:s.name,description:s.description,image:s.image,url:s.url,text:s.text,preview:!0})):null:Object(m.createElement)(m.Fragment,null,Object(m.createElement)(w.Placeholder,{icon:g,label:Object(k.__)("Affiliate Creative","affiliatewp-blocks")},Object(k.__)("No creatives were found.","affiliatewp-blocks")))},de="affiliatewp/affiliate-creative",ve={title:Object(k.__)("Affiliate Creative","affiliatewp-blocks"),description:Object(k.__)("Show an affiliate creative.","affiliatewp-blocks"),keywords:[Object(k.__)("Creative","affiliatewp-blocks"),Object(k.__)("Banner","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:_e,save:function(){return null}};var ke=function(e){var t=e.attributes,a=e.setAttributes,n=t.amount,l=t.description,r=t.reference,i=t.context,c=t.campaign,o=t.status,f=t.type;return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(x.InspectorControls,null,Object(m.createElement)(w.PanelBody,null,Object(m.createElement)(w.TextControl,{label:Object(k.__)("Amount","affiliatewp-blocks"),type:"number",value:n,onChange:function(e){return a({amount:e})},help:Object(k.__)("The purchase amount that the referral should be based on.","affiliatewp-blocks")}),Object(m.createElement)(w.SelectControl,{label:Object(k.__)("Status","affiliatewp-blocks"),value:o,options:[{label:Object(k.__)("Pending","affiliatewp-blocks"),value:"pending"},{label:Object(k.__)("Unpaid","affiliatewp-blocks"),value:"unpaid"},{label:Object(k.__)("Paid","affiliatewp-blocks"),value:"paid"},{label:Object(k.__)("Rejected","affiliatewp-blocks"),value:"rejected"}],onChange:function(e){return a({status:e})},help:Object(k.__)("The status to give the referral.","affiliatewp-blocks")}),Object(m.createElement)(w.TextControl,{label:Object(k.__)("Description","affiliatewp-blocks"),value:l,onChange:function(e){return a({description:e})},help:Object(k.__)("A description logged with the referral.","affiliatewp-blocks")}),Object(m.createElement)(w.TextControl,{label:Object(k.__)("Context","affiliatewp-blocks"),value:i,onChange:function(e){return a({context:e})},help:Object(k.__)("A context for the referral.","affiliatewp-blocks")}),Object(m.createElement)(w.TextControl,{label:Object(k.__)("Reference","affiliatewp-blocks"),value:r,onChange:function(e){return a({reference:e})},help:Object(k.__)("A unique reference variable for the affiliate.","affiliatewp-blocks")}),Object(m.createElement)(w.TextControl,{label:Object(k.__)("Campaign","affiliatewp-blocks"),value:c,onChange:function(e){return a({campaign:e})},help:Object(k.__)("The referral's  campaign name.","affiliatewp-blocks")}),Object(m.createElement)(w.SelectControl,{label:Object(k.__)("Type","affiliatewp-blocks"),value:f,options:[{label:Object(k.__)("Sale","affiliatewp-blocks"),value:"sale"},{label:Object(k.__)("Opt-In","affiliatewp-blocks"),value:"opt-in"},{label:Object(k.__)("Lead","affiliatewp-blocks"),value:"lead"}],onChange:function(e){return a({type:e})},help:Object(k.__)("The type of referral.","affiliatewp-blocks")}))),Object(m.createElement)(m.Fragment,null,Object(m.createElement)(w.Placeholder,{icon:function(){return Object(m.createElement)(w.Icon,{icon:j,color:!0})},label:Object(k.__)("Affiliate Conversion Script","affiliatewp-blocks")})))},he="affiliatewp/affiliate-conversion-script",Ee={title:Object(k.__)("Affiliate Conversion Script","affiliatewp-blocks"),description:Object(k.__)("Track referrals for successful conversions of custom success pages.","affiliatewp-blocks"),keywords:[Object(k.__)("Conversion","affiliatewp-blocks"),Object(k.__)("Script","affiliatewp-blocks"),Object(k.__)("Referral","affiliatewp-blocks")],category:"affiliatewp",icon:j,supports:{html:!1},edit:ke,save:function(){return null}};[n,l,r,i,c,o,f,s,u,b].forEach((function(e){var t=e.name,a=e.settings;Object(p.registerBlockType)(t,a)}))}]);